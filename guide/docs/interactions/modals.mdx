# Interaction Modals

Modals are how you can prompt users for further detailed input. They act as client-integrated pop-ups, and work in tandem
with interactive components called [Text Inputs](https://discord.com/developers/docs/interactions/message-components#text-inputs).
These inputs can have various forms, that can accept information from the user on prompt, and use the callback to receive
and process that information.

This section goes in-depth on using modals with other interactive components, and responding to interactions with them.

## Modal preview

Here is an example of how a modal may look. We will go over modal construction in the next part of this article.

<br />
<p align="center">
	<img src={require('./images/modals-preview.png').default} alt="Modal preview" width="60%" />
</p>
<br />

Once the user inputs information into the modal, the bot will receive a callback that includes the values. As an example, this information has been portrayed in an embed below.

<br />
<DiscordMessages>
	<DiscordMessage author="Disnake Bot" avatar="/public/disnake-logo.png" bot="true">
		<DiscordEmbed embedTitle="Tag Creation" slot="embeds">
			<DiscordEmbedFields slot="fields">
				<DiscordEmbedField fieldTitle="Name">This is the tag's name.</DiscordEmbedField>
				<DiscordEmbedField fieldTitle="Description">
					This is the tag's description. It can be as long as 4000 characters.
				</DiscordEmbedField>
			</DiscordEmbedFields>
		</DiscordEmbed>
	</DiscordMessage>
</DiscordMessages>
<br />

This was done using the following code, in the form of a cog.

```python title="modals.py" {}
# At the top of the file.
import disnake
from disnake.ext import commands
from disnake.enums import TextInputStyle

# Subclassing the modal.
class MyModal(disnake.ui.Modal):
    def __init__(self) -> None:
        # The details of the modal, and its components
        components = [
            disnake.ui.TextInput(
                label="Name",
                placeholder="Foo Tag",
                custom_id="name",
                style=TextInputStyle.short,
                max_length=50,
            ),
            disnake.ui.TextInput(
                label="Description",
                placeholder="Lorem ipsum dolor sit amet.",
                custom_id="description",
                style=TextInputStyle.paragraph,
            ),
        ]
        super().__init__(
            title="Create Tag",
            custom_id="create_tag",
            components=components,
        )

    # The callback received when the user input is completed.
    async def callback(self, inter: disnake.ModalInteraction) -> None:
        embed = disnake.Embed(title="Tag Creation")
        for key, value in inter.text_values.items():
            embed.add_field(
                name=key.capitalize(),
                value=value[:1024],
                inline=False,
            )
        await inter.response.send_message(embed=embed)


# The class of the cog. (Irrelevant)
class Modals(commands.Cog):
    def __init__(self, bot: commands.Bot) -> None:
        self.bot = bot

    @commands.slash_command()
    async def tags(self, inter: disnake.AppCmdInter) -> None:
        """Sends a Modal to create a tag."""
        await inter.response.send_modal(modal=MyModal())


# The cog setup function. (Irrelevant)
def setup(bot: commands.Bot) -> None:
    bot.add_cog(Modals(bot))
```

## Creating a modal

A modal can be created and sent using two different methods, just like other message components:

-   Subclassing <DocsLink reference="disnake.ui.Modal">disnake.ui.Modal</DocsLink> to define the components, and sending it through the `modal` attribute of <DocsLink reference="disnake.InteractionResponse.send_modal">interaction.send_modal</DocsLink> (as done in the example above).
-   Defining the attributes and components of the modal inside <DocsLink reference="disnake.InteractionResponse.send_modal">interaction.send_modal</DocsLink> itself.

The latter is considered a "lower-level" implementation of modals - we will use the same term to refer to it in this section.

## Using `TextInput`

## `TextInput` styles

## Modal callback

## Modal notes

## Modal limits

-   The placeholder has a maximum value of **100 characters**.
-   The custom ID of a modals and text inputs has a maximum value of **100 characters**.
-   The modal timeout has to be a value, and not `None`. Setting an extremely high number can cause memory leaks.

## Resulting code

<ResultingCode />
